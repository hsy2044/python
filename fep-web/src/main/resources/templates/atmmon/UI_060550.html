<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout" layout:decorate="~{home}">
<head>
<meta charset="UTF-8"></meta>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
</head>
<body>
	<div layout:fragment="panel-condition">
		<form id="form-validator" th:object="${form}" th:action="@{/atmmon/UI_060550/inquiryMain}" method="post">
			<table border="0" cellspacing="0" class="table-condition">
				<tr>
					<td class="condition-label">
						<label for="feptxnTbsdyFisc" class="col-form-label">營業日期</label>
					</td>
					<td class="condition-input">
						<div class="input-group date" id="feptxnTbsdyFisc" data-target-input="nearest">
							<input type="text" class="form-control datetimepicker-input" data-target="#feptxnTbsdyFisc" th:field="*{feptxnTbsdyFisc}" />
							<div class="input-group-append" data-target="#feptxnTbsdyFisc" data-toggle="datetimepicker">
								<div class="input-group-text">
									<i class="fa fa-calendar"></i>
								</div>
							</div>
						</div>
					</td>
					<td class="condition-label">
						<label for="feptxnTxTimeBegin" class="col-form-label">交易時間起訖</label>
					</td>
					<td class="condition-input">
						<div class="row">
							<div class="col input-group date" id="feptxnTxTimeBegin" data-target-input="nearest">
								<input type="text" class="form-control datetimepicker-input" data-target="#feptxnTxTimeBegin" th:field="*{feptxnTxTimeBegin}" />
								<div class="input-group-append" data-target="#feptxnTxTimeBegin" data-toggle="datetimepicker">
									<div class="input-group-text">
										<i class="far fa-clock"></i>
									</div>
								</div>
							</div>
							<label class="label-text-symbol">~</label>
							<div class="col input-group date" id="feptxnTxTimeEnd" data-target-input="nearest">
								<input type="text" class="form-control datetimepicker-input" data-target="#feptxnTxTimeEnd" th:field="*{feptxnTxTimeEnd}" />
								<div class="input-group-append" data-target="#feptxnTxTimeEnd" data-toggle="datetimepicker">
									<div class="input-group-text">
										<i class="far fa-clock"></i>
									</div>
								</div>
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td class="condition-label">
						<label for="feptxnTxDate" class="col-form-label">交易日期</label>
					</td>
					<td class="condition-input">
						<div class="input-group date" id="feptxnTxDate" data-target-input="nearest">
							<input type="text" class="form-control datetimepicker-input" data-target="#feptxnTxDate" th:field="*{feptxnTxDate}" />
							<div class="input-group-append" data-target="#feptxnTxDate" data-toggle="datetimepicker">
								<div class="input-group-text">
									<i class="fa fa-calendar"></i>
								</div>
							</div>
						</div>
					</td>
					<td class="condition-label">
						<label for="feptxnTxrust" class="col-form-label">交易結果</label>
					</td>
					<td class="condition-input">
						<select class="form-control" th:field="*{feptxnTxrust}">
							<option value="" selected="selected"></option>
							<option value="A">A-接收/正常</option>
							<option value="B">B-接收/不正常</option>
							<option value="C">C-接收/沖正</option>
							<option value="R">R-拒絕/正常</option>
							<option value="S">S-拒絕/不正常</option>
							<option value="I">I-原交易已拒絕</option>
							<option value="N">N-無帳務沖正</option>
							<option value="D">D-已沖正成功</option>
							<option value="T">T-沖銷或授權完成進行中</option>
						</select>
					</td>
				</tr>
				<tr>
					<td class="condition-label">
						<label for="feptxnAtmno" class="col-form-label">ATM代號</label>
					</td>
					<td class="condition-input">
						<input class="form-control" type="text" th:field="*{feptxnAtmno}" maxlength="8" />
					</td>
					<td class="condition-label">
						<label for="feptxnCbsRrn" class="col-form-label">發卡區CBS序號</label>
					</td>
					<td class="condition-input">
						<input class="form-control" type="text" th:field="*{feptxnCbsRrn}" maxlength="20" />
					</td>
				</tr>
				<tr>
					<td class="condition-label">
						<label for="feptxnAtmSeqno" class="col-form-label">ATM/ATM CON交易序號</label>
					</td>
					<td class="condition-input">
						<div class="row">
							<div class="col">
								<input class="col form-control" type="text" th:field="*{feptxnAtmSeqno}" maxlength="8" />
							</div>
							<label class="label-text-symbol">/</label>
							<div class="col">
								<input class="form-control" type="text" th:field="*{feptxnConAtmSeqno2}" maxlength="8" />
							</div>
						</div>
					</td>
					<td class="condition-label">
						<label for="feptxnVirCbsRrn" class="col-form-label">交易區CBS序號</label>
					</td>
					<td class="condition-input">
						<input class="form-control" type="text" th:field="*{feptxnVirCbsRrn}" maxlength="11" />
					</td>
				</tr>
				<tr>
					<td class="condition-label">
						<label for="feptxnTroutBkno" class="col-form-label">扣款帳號</label>
					</td>
					<td class="condition-input">
						<div class="row">
							<div class="col">
								<input class="form-control" type="text" th:field="*{feptxnTroutBkno}" maxlength="3" />
							</div>
							<label class="label-text-symbol">-</label>
							<div class="col">
								<input class="form-control" type="text" th:field="*{feptxnTroutActno}" maxlength="16" />
							</div>
						</div>
					</td>
					<td class="condition-label">
						<label for="feptxnTrinBkno" class="col-form-label">轉入帳號</label>
					</td>
					<td class="condition-input">
						<div class="row">
							<div class="col">
								<input class="form-control" type="text" th:field="*{feptxnTrinBkno}" maxlength="3" />
							</div>
							<label class="label-text-symbol">-</label>
							<div class="col">
								<input class="form-control" type="text" th:field="*{feptxnTrinActno}" maxlength="16" />
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td class="condition-label">
						<label for="feptxnEjfno" class="col-form-label">EJ序號/CON EJ序號/ClientTraceId</label>
					</td>
					<td class="condition-input">
						<div class="row">
							<div class="col">
								<input class="form-control" type="text" th:field="*{feptxnEjfno}" maxlength="8" />
							</div>
							<label class="label-text-symbol">/</label>
							<div class="col">
								<input class="form-control" type="text" th:field="*{feptxnTraceEjfno}" maxlength="8" />
							</div>
							<label class="label-text-symbol">/</label>
							<div class="col">
								<input class="form-control" type="text" th:field="*{feptxnChannelEjfno}" maxlength="30" />
							</div>
						</div>
					</td>
					<td class="condition-label">
						<label for="feptxnTxCode" class="col-form-label">ATM交易代號</label>
					</td>
					<td class="condition-input">
						<input class="form-control" type="text" th:field="*{feptxnTxCode}" maxlength="3" />
					</td>
				</tr>
				<tr>
					<td class="condition-label">
						<label for="feptxnMsgid" class="col-form-label">訊息代號</label>
					</td>
					<td class="condition-input">
						<input class="form-control" type="text" th:field="*{feptxnMsgid}" maxlength="10" />
					</td>
					<td class="condition-label">
						<label for="feptxnTxCurAct" class="col-form-label">提領幣別/交易金額</label>
					</td>
					<td class="condition-input">
						<div class="row">
							<div class="col">
								<select class="form-control" th:field="*{feptxnTxCurAct}">
									<option value="" selected="selected"></option>
									<option value="TWD">TWD:台幣</option>
									<option value="HKD">HKD:港幣</option>
									<option value="MOP">MOP:葡幣</option>
									<option value="JPY">JPY:日幣</option>
									<option value="USD">USD:美金</option>
									<option value="CNY">CNY:人民幣</option>
									<option value="EUR">EUR:歐元</option>
								</select>
							</div>
							<div class="col">
								<input class="form-control" type="text" th:field="*{feptxnTxAmt}" maxlength="17" />
							</div>
						</div>
					</td>
				</tr>
				<tr>
					<td class="condition-label">
						<label for="feptxnBkno" class="col-form-label">財金STAN</label>
					</td>
					<td class="condition-input">
						<div class="row">
							<div class="col">
								<input class="form-control" type="text" th:field="*{feptxnBkno}" maxlength="3" />
							</div>
							<label class="label-text-symbol">-</label>
							<div class="col">
								<input class="form-control" type="text" th:field="*{feptxnStan}" maxlength="7" />
							</div>
						</div>
					</td>
					<td class="condition-label">
						<label for="feptxnPcode" class="col-form-label">財金交易代號(PCODE)</label>
					</td>
					<td class="condition-input">
						<input class="form-control" type="text" th:field="*{feptxnPcode}" maxlength="4" />
					</td>
				</tr>
				<tr>
					<td class="condition-label">
						<label for="feptxnExcludeTxCode" class="col-form-label">排除交易別</label>
					</td>
					<td class="condition-input">
						<input class="form-control" type="text" th:field="*{feptxnExcludeTxCode}" maxlength="40" />
					</td>
					<td class="condition-label">
						<label for="checkTrin" class="col-form-label">自行or跨行</label>
					</td>
					<td class="condition-input">
						<input class="col-form-checkbox" type="checkbox" th:field="*{checkTrin}">
						<label for="checkTrin" class="col-form-label">自行</label>
						<input class="col-form-checkbox" type="checkbox" th:field="*{checkTrout}">
						<label for="checkTrout" class="col-form-label">跨行</label>
					</td>
				</tr>
				<tr>
					<td class="condition-label">
						<label for="feptxnAccType" class="col-form-label">記帳類別</label>
					</td>
					<td class="condition-input">
						<select class="form-control" th:field="*{feptxnAccType}">
							<option value="" selected="selected"></option>
							<option value="0">0:未記帳</option>
							<option value="1">1:已記帳</option>
							<option value="2">2:已更正</option>
							<option value="3">3:更正/轉入失敗</option>
							<option value="4">4:未明</option>
							<option value="5">5:待解</option>
						</select>
					</td>
					<td class="condition-label"></td>
					<td class="condition-input">
						<input class="col-form-checkbox" type="checkbox" th:field="*{checkCtrlnwd}" />
						<label for="checkCtrlnwd" class="col-form-label">無卡提款(台外幣)</label>
						<input class="col-form-checkbox" type="checkbox" th:field="*{checkFeptxnMulticur}" />
						<label for="checkFeptxnMulticur" class="col-form-label">多幣Debit卡</label>
						<input class="col-form-checkbox" type="checkbox" th:field="*{checkFeptxnCovid}" />
						<label for="checkFeptxnCovid" class="col-form-label">疫情減免手續費</label>
					</td>
				</tr>
				<tr>
					<td class="condition-label">
						<label for="feptxnTroutBknoForCard" class="col-form-label">卡片帳號</label>
					</td>
					<td class="condition-input">
						<div class="row">
							<div class="col">
								<input class="form-control" type="text" th:field="*{feptxnTroutBknoForCard}" maxlength="3" />
							</div>
							<label class="label-text-symbol">-</label>
							<div class="col">
								<input class="form-control" type="text" th:field="*{feptxnMajorActno}" maxlength="16" />
							</div>
						</div>
					</td>
					<td class="condition-label"></td>
					<td class="condition-input">
						<input class="col-form-checkbox" type="checkbox" id="checkboxMask" />
						<label for="checkboxMask" class="col-form-label">繳納口罩費用</label>
						<input class="col-form-checkbox" type="checkbox" th:field="*{checkFeptxnBenefit}" />
						<label for="checkFeptxnBenefit" class="col-form-label">小額跨轉每日優惠</label>
						<input class="col-form-checkbox" type="checkbox" th:field="*{checkFeptxnMtp}" />
						<label for="checkFeptxnMtp" class="col-form-label">手機門號轉帳</label>
					</td>
				</tr>
			</table>
		</form>
	</div>
	<div layout:fragment="panel-button">
		<button type="button" class="btn btn-primary" id="btnQuery">查詢</button>
		<button type="button" class="btn btn-primary" id="btnClear">清除</button>
	</div>
	<div layout:fragment="panel-summary" th:if="${pageData != null}">
		<table border="0" cellspacing="0" class="table-condition">
			<tr>
				<td class="condition-label">
					<label for="totalCount" class="col-form-label">總筆數:</label>
				</td>
				<td class="condition-input">
					<label class="form-control label-text-left" th:text="${#numbers.formatDecimal(totalCount,1,'COMMA',0,'POINT')}"></label>
				</td>
				<td class="condition-label">
					<label for="sumOfFeptxnTxAmt" class="col-form-label">總金額:</label>
				</td>
				<td class="condition-input">
					<label class="form-control label-text-left" th:text="${#numbers.formatDecimal(sumOfFeptxnTxAmt,1,'COMMA',2,'POINT')}"></label>
				</td>
			</tr>
		</table>
	</div>
	<div layout:fragment="panel-grid" th:if="${pageData != null}">
		<div class="card-body table-responsive p-0">
			<table class="table table-striped table-bordered table-head-fixed table-hover text-nowrap">
				<thead>
					<tr>
						<th><b>交易日期/時間</b><i fep:sort="${form}" data-sort-column="FEPTXN_TX_DATE,FEPTXN_TX_TIME"></i></th>
						<th><b>ATM交易代號</b></th>
						<th><b>財金交易代號</b></th>
						<th><b>交易結果</b></th>
						<th><b>卡片帳號</b></th>
						<th><b>扣款帳號</b></th>
						<th><b>轉入帳號</b></th>
						<th><b>提領幣別</b></th>
						<th><b>交易金額</b></th>
						<th><b>ATM交易序號</b><i fep:sort="${form}" data-sort-column="FEPTXN_ATMNO,FEPTXN_ATM_SEQNO"></i></th>
						<th><b>發卡區CBS序號</b></th>
						<th><b>交易區CBS序號</b></th>
						<th><b>EJ序號</b></th>
						<th><b>財金STAN</b></th>
					</tr>
				</thead>
				<tbody th:if="${pageData.list != null}">
					<tr th:each="data : ${pageData.list}">
						<td align="center">
							<a class="a-inquiry" href="#" th:text="${T(com.syscom.fep.web.base.FEPWebBase).formatYMDHMS(data.feptxnTxDate + ' ' + data.feptxnTxTime)}"
								th:value="${
										'{' + '&quot;feptxnTxDate&quot;:&quot;'+data.feptxnTxDate + '&quot;' + ',' 
											+ '&quot;feptxnTxTime&quot;:&quot;'+data.feptxnTxTime + '&quot;' + ',' 
											+ '&quot;feptxnEjfno&quot;:&quot;'+data.feptxnEjfno + '&quot;' + ',' 
											+ '&quot;feptxnTbsdyFisc&quot;:&quot;'+data.feptxnTbsdyFisc + '&quot;' + ',' 
											+ '&quot;feptxnMsgid&quot;:&quot;'+data.feptxnMsgid + '&quot;' + ',' 
											+ '&quot;feptxnSubsys&quot;:&quot;'+data.feptxnSubsys + '&quot;'
										+ '}'
										}">
							</a>
						</td>
						<td align="center" th:text="${data.feptxnTxCode}" />
						<td align="center" th:text="${T(com.syscom.fep.web.base.FEPWebBase).isPcodeShowed(data.feptxnFiscFlag, data.feptxnPcode)}" />
						<td align="center" th:text="${data.feptxnTxrust}" />
						<td th:text="${T(com.syscom.fep.web.base.FEPWebBase).join('-', data.feptxnTroutBkno, data.feptxnMajorActno)}" />
						<td th:text="${T(com.syscom.fep.web.base.FEPWebBase).join('-', data.feptxnTroutBkno, data.feptxnTroutActno)}" />
						<td th:text="${T(com.syscom.fep.web.base.FEPWebBase).join('-', data.feptxnTrinBkno, data.feptxnTrinActno)}" />
						<td align="center" th:text="${data.feptxnTxCur}" />
						<td align="right" th:text="${#numbers.formatDecimal(data.feptxnTxAmt,1,'COMMA',2,'POINT')}" />
						<td align="center" th:text="${T(com.syscom.fep.web.base.FEPWebBase).join('-', data.feptxnAtmno, data.feptxnAtmSeqno)}" />
						<td align="center" th:text="${data.feptxnCbsRrn}" />
						<td align="center" th:text="${data.feptxnVirCbsRrn}" />
						<td align="center" th:text="${data.feptxnEjfno}" />
						<td align="center" th:text="${T(com.syscom.fep.web.base.FEPWebBase).join('-', data.feptxnBkno, data.feptxnStan)}" />
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<div layout:fragment="panel-script">
		<script type="text/javascript" th:src="@{/js/atmmon/UI060550.js}"></script>
	</div>
</body>
</html>